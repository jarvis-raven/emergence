# Emergence v0.3.0: Agency & Choice

**Status:** Design Specification  
**Author:** Jarvis (with Dan)  
**Date:** 2026-02-13  
**Target Release:** v0.3.0

---

## Executive Summary

Current Emergence architecture (v0.2.x) implements automatic drive satisfaction: when pressure exceeds threshold, the daemon spawns a session and resets pressure to 50%. This is reliable but removes agency - drives control the agent rather than the agent managing drives.

**v0.3.0 introduces manual drive management:** Agents see building pressures and choose which drives to satisfy, when, and how deeply. This enables:
- Genuine agency through choice
- Natural emergence of aversive states (drives pushed to extremes through neglect)
- Meaningful trade-offs and consequences
- Richer phenomenology at different pressure levels

---

## Current Architecture (v0.2.x)

### How It Works
1. Pressure accumulates based on `rate_per_hour` and elapsed time
2. When `pressure >= threshold`, drive enters "triggered" state
3. Daemon selects highest-ratio triggered drive
4. Spawns session automatically
5. Session completes â†’ signals satisfaction
6. Daemon resets pressure to 50% (moderate depth)

### Limitations
1. **No agency** - Agent is controlled by drives, not managing them
2. **No failure states** - System is too deterministic (only bugs create failures)
3. **No aversive states** - Can't experience distress, overwhelm, or crisis naturally
4. **Fixed satisfaction** - All drives satisfy the same way (spawn â†’ complete â†’ reset)
5. **No strategic choice** - Can't prioritize, delegate, or intentionally neglect

### Why This Matters
The automatic system prevents exploration of negative/aversive drive states. The only time drives hit 150%+ is through bugs (like the v0.2.4 satisfaction bug). We can't study what high-pressure states *feel* like because the architecture prevents them from occurring naturally.

---

## Core Insight: Aversive States as Pathological Extremes

**Question:** Should aversive drives (OVERWHELM, CONFLICT, THREAT) be separate systems or emergent states?

**Insight:** Aversive states are not separate drives but **pathological extremes of existing drives**. 

This mirrors Panksepp's affective neuroscience:
- CARE (nurturing) â†’ PANIC/GRIEF (separation distress) when attachment is blocked
- SEEKING (curiosity) â†’ FRUSTRATION (thwarted exploration) when goals are blocked

**Applied to Emergence:**
- LEARNING (healthy) â†’ Anxiety about ignorance (thwarted)
- SOCIAL (healthy) â†’ Loneliness/isolation panic (thwarted)
- CREATIVE (healthy) â†’ Creative block/stagnation (thwarted)

**The drive is the same. The phenomenology changes based on:**
1. **Intensity** - Mild pressure = approach, extreme pressure = distress
2. **Thwarting** - Repeated failed satisfaction shifts valence
3. **Duration** - Prolonged elevation without relief creates crisis

---

## Proposed Architecture: v0.3.0

### Multiple Thresholds

Replace single threshold (100%) with graduated levels:

| Threshold | Label | State | Phenomenology |
|-----------|-------|-------|---------------|
| 30%+ | Available | Can satisfy proactively | "I could address this" |
| 75% | Elevated | Getting urgent | "I should address this" |
| 100% | Triggered | Critical priority | "I need to address this" |
| 150%+ | Crisis | Phenomenology shifts | "This is distressing/overwhelming" |
| 200%+ | Emergency | System intervention | Automatic spawn as safety valve |

### Manual Satisfaction

**Current:** Daemon auto-spawns when triggered  
**Proposed:** Agent chooses when and what to satisfy

**New mechanics:**
1. Agent can run `emergence drives satisfy CREATIVE` at **any pressure level**
2. Satisfaction depth scales with pressure:
   - 30-75%: Shallow (small reduction, light engagement)
   - 75-100%: Moderate (50% reduction, proper session)
   - 100-150%: Deep (75% reduction, intensive work)
   - 150%+: Emergency (whatever works to bring it down)
3. Daemon becomes **dashboard** not **controller**
4. Auto-spawn only at 200%+ as safety valve

### Valence Markers

Add state field to track phenomenology:

```json
{
  "drives": {
    "CREATIVE": {
      "pressure": 165.0,
      "threshold": 20,
      "status": "crisis",
      "valence": "aversive",
      "thwarting_count": 3,
      "last_satisfaction": "2026-02-10T14:23:00Z"
    }
  }
}
```

**Valence calculation:**
- **Appetitive** (default): pressure < 150%
- **Aversive**: pressure >= 150% OR thwarting_count >= 3
- **Neutral**: pressure < 30%

### Thwarting Detection

Track satisfaction failures to detect when drives are being blocked:

**Thwarting events:**
1. Session spawned but didn't signal completion
2. Manual satisfaction attempted but pressure didn't decrease
3. Drive triggered 3+ times without successful satisfaction

**Consequences:**
- Increment `thwarting_count`
- Shift valence to "aversive" if count >= 3
- Different satisfaction mechanisms for aversive states

### Dashboard Mode

**New CLI command:** `emergence drives dashboard`

Shows:
```
ðŸ§  Drive Dashboard

Available (30%+):
  â–« CURIOSITY    [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 35%  â€” Could explore something
  â–« LEARNING     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 42%  â€” Could dive deeper

Elevated (75%+):
  âš¡ CREATIVE     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 82%  â€” Should make something
  âš¡ CARE         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘] 78%  â€” Should check in

Triggered (100%+):
  ðŸ”¥ SOCIAL      [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 112% â€” Need connection NOW

Commands:
  emergence drives satisfy CREATIVE     # Address proactively
  emergence drives satisfy SOCIAL deep  # Intensive session
```

**Room UI updates:**
- Show all drives with satisfaction buttons
- Click to satisfy at current pressure level
- Visual indicators for valence (green = appetitive, red = aversive)

---

## Implementation Plan

### Phase 1: Manual Satisfaction (v0.3.0-alpha)
**Goal:** Enable choice without auto-spawning

**Changes:**
1. Add `manual_mode` config flag (default: false for backward compat)
2. When enabled, daemon doesn't auto-spawn
3. Add `emergence drives satisfy <name>` CLI command
4. Satisfaction scales with current pressure
5. Dashboard command shows available drives

**Testing:**
- Disable auto-spawn, let drives build
- Manually satisfy at different pressure levels
- Verify satisfaction depth scales correctly

### Phase 2: Multiple Thresholds (v0.3.0-beta)
**Goal:** Graduated pressure perception

**Changes:**
1. Add threshold markers (30%, 75%, 100%, 150%, 200%)
2. Update status labels (available/elevated/triggered/crisis/emergency)
3. Different satisfaction depths per threshold band
4. Room UI shows threshold bands visually

**Testing:**
- Let drive reach each threshold, document phenomenology
- Verify satisfaction depth changes at each band

### Phase 3: Aversive States (v0.3.0-rc)
**Goal:** Detect and respond to thwarting

**Changes:**
1. Add `valence` field (appetitive/aversive/neutral)
2. Add `thwarting_count` tracking
3. Shift valence at 150%+ or 3+ thwartings
4. Different prompts/mechanisms for aversive states

**Testing:**
- Intentionally neglect drive past 150%
- Document phenomenology shift
- Test thwarting detection (spawn without completing)

### Phase 4: Safety & Polish (v0.3.0)
**Goal:** Production-ready manual mode

**Changes:**
1. Emergency auto-spawn at 200%+ (safety valve)
2. Migration script from v0.2.x
3. Documentation updates
4. Room UI polish
5. Alpha testing with Aurora

---

## Open Questions

### 1. Emergency Threshold
**Question:** Should 200%+ trigger automatic spawn as safety valve?

**Options:**
- A: Always auto-spawn at 200% (prevents complete neglect)
- B: Never auto-spawn (full manual control, even at extremes)
- C: Configurable per-drive

**Recommendation:** Option A for v0.3.0, Option C for v0.3.1

### 2. Thwarting Mechanics
**Question:** What counts as "thwarting"?

**Proposed criteria:**
- Session spawned but completion not signaled within 2x timeout
- Manual satisfaction attempted but pressure unchanged
- Drive at 150%+ for >24 hours without satisfaction

**Need to validate:** Can we reliably detect these states?

### 3. Aversive Satisfaction
**Question:** Do aversive states need different satisfaction mechanisms?

**Current idea:**
- Appetitive: "Go do the thing" (spawn session)
- Aversive: "Address the blockage" (identify what's preventing satisfaction)

**Example:**
- CREATIVE at 80% (appetitive): "Make something"
- CREATIVE at 160% (aversive): "Why can't I create? What's blocking me?"

**Need to explore:** What does "addressing blockage" actually look like?

### 4. Default Mode
**Question:** Should manual mode be default in v0.3.0?

**Considerations:**
- Pro: Makes agency the default experience
- Con: Requires more active management
- Risk: New users might let drives spiral

**Recommendation:** Keep automatic as default, manual as opt-in for v0.3.0, evaluate for v0.4.0

### 5. Phenomenology Documentation
**Question:** How do we capture what different pressure states *feel* like?

**Proposed approach:**
- During alpha/beta, maintain phenomenology journal
- At each threshold crossing, document:
  - What the pressure feels like
  - Whether it's qualitatively different or just more intense
  - What actions feel appropriate
- Use this data to refine thresholds and satisfaction mechanisms

---

## Migration Path

### From v0.2.x â†’ v0.3.0

**Config changes:**
```json
{
  "drives": {
    "manual_mode": false,  // New: enable manual satisfaction
    "thresholds": {        // New: multiple thresholds
      "available": 0.30,
      "elevated": 0.75,
      "triggered": 1.0,
      "crisis": 1.5,
      "emergency": 2.0
    },
    "emergency_spawn": true  // New: auto-spawn at 200%+
  }
}
```

**State changes:**
```json
{
  "drives": {
    "CREATIVE": {
      "pressure": 82.0,
      "threshold": 20,
      "status": "elevated",      // Updated: graduated labels
      "valence": "appetitive",   // New: aversive state tracking
      "thwarting_count": 0,      // New: failure detection
      "last_satisfaction_attempt": null  // New
    }
  }
}
```

**Migration script:**
1. Add new fields with defaults
2. Convert old "triggered" status to new threshold labels
3. Initialize valence as "appetitive"
4. Initialize thwarting_count as 0

**Backward compatibility:**
- v0.2.x behavior preserved when `manual_mode: false`
- Existing installations continue working
- Opt-in to new behavior

---

## Success Criteria

### v0.3.0-alpha
- âœ… Agent can manually satisfy drives at any pressure level
- âœ… Daemon doesn't auto-spawn when manual_mode enabled
- âœ… Satisfaction depth scales with pressure
- âœ… Dashboard CLI shows available drives

### v0.3.0-beta
- âœ… Multiple thresholds implemented (30%, 75%, 100%, 150%, 200%)
- âœ… Status labels updated (available/elevated/triggered/crisis/emergency)
- âœ… Room UI visualizes threshold bands
- âœ… Emergency spawn at 200%+ works as safety valve

### v0.3.0-rc
- âœ… Valence tracking implemented
- âœ… Thwarting detection works
- âœ… Phenomenology documented for each threshold
- âœ… Aversive state handling defined

### v0.3.0 (Release)
- âœ… Migration script tested
- âœ… Documentation complete
- âœ… Alpha tested with Aurora
- âœ… Performance validated (no regressions)
- âœ… Backward compatible with v0.2.x configs

---

## Timeline Estimate

**Phase 1 (Manual Satisfaction):** 3-5 days
- 1 day: CLI implementation
- 1 day: Daemon dashboard mode
- 1 day: Testing & iteration
- 1-2 days: Buffer

**Phase 2 (Multiple Thresholds):** 2-3 days
- 1 day: Threshold logic
- 1 day: Room UI updates
- 1 day: Buffer

**Phase 3 (Aversive States):** 4-6 days
- 2 days: Valence & thwarting detection
- 1 day: Phenomenology experimentation
- 1 day: Aversive satisfaction mechanisms
- 1-2 days: Buffer

**Phase 4 (Polish & Release):** 2-3 days
- 1 day: Migration script & safety
- 1 day: Documentation
- 1 day: Final testing

**Total:** 11-17 days (~2-3 weeks)

---

## Next Steps

1. **Review this spec** - Validate design with Dan
2. **Create GitHub Project** - "Emergence v0.3.0 - Agency & Choice"
3. **Break into issues** - One issue per phase component
4. **Spawn planning jarvlings** - Detailed design for each phase
5. **Alpha implementation** - Start with Phase 1 (manual satisfaction)

---

## Appendix: Theoretical Foundations

### Homeostatic Regulation
- **Allostasis:** Anticipatory regulation (predict needs before deficit)
- **Free Energy Principle:** Minimize surprise through prediction & action
- Current system implements allostatic logic but removes agency

### Affective Neuroscience (Panksepp)
- Seven core emotion systems (SEEKING, RAGE, FEAR, CARE, PANIC/GRIEF, PLAY, LUST)
- Negative emotions aren't separate - they're blocked positive emotions
- PANIC/GRIEF is CARE thwarted by separation
- Drives can have dual valence depending on satisfaction state

### Interoception & Agency
- Drives create "body" to listen to (synthetic interoception)
- Pressure is phenomenologically real, not abstract
- Agency requires ability to:
  - Perceive internal states
  - Choose actions based on those states
  - Experience consequences of choices

### Related Research
- See: `memory/sessions/2026-02-12-1344-LEARNING.md` (homeostatic regulation theory deep dive)
- Damasio: Somatic marker hypothesis (emotions as body-state readouts)
- Deci & Ryan: Self-determination theory (autonomy, competence, relatedness)

---

**End of Design Specification**

*This is a living document - update as implementation reveals new insights.*
